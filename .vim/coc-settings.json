{
  // coc
  "coc.preferences.formatOnSave": true,
  "coc.preferences.willSaveHandlerTimeout": 1000,
  // diagnostics
  "diagnostic.checkCurrentLine": true,
  "diagnostic.virtualText": true,
  "diagnostic.virtualTextCurrentLineOnly": false,
  // other global config
  "editor.codeActionsOnSave": {
    // general
    "source.organizeImports": "always",
    "source.fixAll": "always",
    // ruff
    "source.organizeImports.ruff": true,
    "source.fixAll.ruff": true,
  },
  // languageserver -- helm & ts
  "languageserver": {
    "helm": {
      "command": "helm_ls",
      "args": [
        "serve"
      ],
      "filetypes": [
        "helm",
        "helmfile"
      ],
      "rootPatterns": [
        "Chart.yaml"
      ]
    },
    "terraform": {
      "command": "terraform-ls",
      "args": [
        "serve"
      ],
      "filetypes": [
        "terraform",
        "tf"
      ],
      "rootPatterns": [
        ".terraform",
        ".git/"
      ],
      "initializationOptions": {}
    }
  },
  // helm
  "helm.ls.templateFiles": {
    "enabled": true
  },
  "helm-ls.experimental.templateFiles": true,
  // snippets
  "snippets.ultisnips.pythonPrompt": false,
  // python
  "[python]": {
    "coc.preferences.formatOnSave": true
  },
  "pyright.enable": true,
  "pyright.organizeimports.provider": "ruff",
  "python.formatting.blackPath": "~/.pyenv/versions/default/bin/black",
  "python.formatting.provider": "ruff",
  "python.linting.enabled": true,
  "python.linting.flake8Enabled": true,
  "python.linting.flake8Path": "~/.pyenv/versions/default/bin/flake8",
  "python.linting.pylintEnabled": false,
  "python.pythonPath": "~/.pyenv/versions/default/bin/python",
  "python.venvPath": "${env:HOME}/.pyenv/versions",
  "ruff.enable": true,
  "ruff.nativeBinaryPath": "~/.pyenv/versions/default/bin/ruff",
  "ruff.nativeServer": true,
  // rust
  "workspace.ignoredFolders": [
    "$HOME",
    "$HOME/.cargo/**",
    "$HOME/.rustup/**"
  ]
}

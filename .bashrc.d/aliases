# some more ls aliases
OS=`uname -s`

if [ "$OS" == "Darwin" ]
then
    alias ls='ls -G'
else
    alias ls='ls --color=auto'
fi
alias ll='ls -l'
alias la='ls -A'
alias l='ls -CF'

# clears a key out of the known_hosts file
function clearkey() {
    ssh-keygen -R $1
    ssh-keygen -R `host $1 | awk '{ print $4 }'`
}

# let's not grep the svn dir
alias grep='grep --exclude="*.svn*" '

# no vi please
if [ "$OS" == "Darwin" ]
then
    alias vi='mvim -v'
else
    alias vi=vim
fi

# add PPID to ps
alias psa='ps axwwfo user,pid,ppid,pcpu,pmem,vsz,rssize,tname,stat,start_time,bsdtime,command'

# svn aliases
function svnst() {
    svn st --ignore-externals $* | grep -v "^X"
}
alias svnkey='svn propset svn:keywords "Id Date LastChangedDate HeadURL URL Author LastChangedBy Rev Revision;" '
alias desvn='rm -rf `find . -name .svn -type d`'

# perltidy
#alias pt="perltidy -pbp -b -nse -nst"
alias pt="perltidy -pbp -l=100 -nst -b -nse -nasc"
alias pta="for i in \`ack -f --perl\`; do echo \$i; perltidy -pbp -b -nse -nst \$i; done"
alias ptarm="find . -name \"*.bak\" | xargs rm -f {} \;"

# testing aliases
alias ta='./Build test'
alias tav='./Build test --verbose 1'
alias t='./Build test --test-files '
alias tv='./Build test --verbose 1 --test-files '
alias tc='./Build testcover'

# keychain
alias kcf="keychain --inherit any --quiet"
alias kcr=". ~/.keychain/\$HOSTNAME-sh"

# cleaning up downloads folder
alias clean_downloads="find ~/Downloads -mtime +30 -maxdepth 1 -print -exec rmtrash '{}' ';'"

# make it easy to strace quickly
alias ss="sudo strace -s 1024 -p "

# forget history for this session
alias nvm="export HISTFILE=/dev/null"

# alias to load resty
# resty itself will redefine this function
function resty() {
    . $HOME/.bashrc.d/resty/resty
    resty $*
}

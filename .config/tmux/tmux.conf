# Bootstrap: TPM paths (override by exporting before launching tmux)
set-environment -g TMUX_PLUGIN_MANAGER_PATH "$HOME/.local/share/tmux/plugins"
set-environment -g TPM_LOG_PATH "$HOME/.local/share/tmux/plugins/tpm_log.txt"

# Core options and keymaps
source-file "$HOME/.config/tmux/conf.d/options.conf"
source-file "$HOME/.config/tmux/conf.d/keys.conf"

# Theme selection and status defaults
source-file "$HOME/.config/tmux/theme.conf"

# Theme-specific setup (status defined before plugins so tmux-cpu/battery can rewrite)
if-shell '[ "#{@theme}" = "catppuccin" ]' "source-file $HOME/.config/tmux/themes/catppuccin.conf; run-shell $HOME/.config/tmux/plugins/catppuccin/tmux/catppuccin.tmux; source-file $HOME/.config/tmux/themes/catppuccin-status.conf; source-file $HOME/.config/tmux/themes/catppuccin-messages.conf"
if-shell '[ "#{@theme}" = "solarized" ]' "source-file $HOME/.config/tmux/themes/solarized.conf; source-file $HOME/.config/tmux/themes/solarized-messages.conf"

# Plugins (includes tmux-cpu/tmux-battery; TPM runs afterward)
source-file "$HOME/.config/tmux/conf.d/plugins.conf"

# Local overrides (ignored if missing)
if-shell "[ -f $HOME/.config/tmux/local.conf ]" "source-file $HOME/.config/tmux/local.conf"
